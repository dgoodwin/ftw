<h2>Sign up</h2>

<% if resource.accounts.nil? or resource.accounts.length == 0 %>
  <% resource.accounts.build %>
<% end %>

<%= form_for(resource, :as => resource_name, :url => registration_path(resource_name)) do |f| %>
  <%= devise_error_messages! %>

  <p><%= f.label :email %><br />
  <%= f.text_field :email %></p>

  <p><%= f.label :password %><br />
  <%= f.password_field :password %></p>

  <p><%= f.label :password_confirmation %><br />
  <%= f.password_field :password_confirmation %></p>

  <div class="field">
    Display Name<br />
    <%= f.text_field :name %>
  </div>

  <div class="field">
    <%= f.label :location %><br />
    <%= f.text_field :location %>
  </div>

  <div class="field">
    <%= f.label :time_zone %><br />
    <%= f.time_zone_select :time_zone, nil, 
      :default => "Eastern Time (US & Canada)" %>
  </div>

  <h3>Account</h3>

  Please provide your Playstation Network login name.

  <%= render :partial => 'accounts/form',
    :locals => {:form => f } %> 

  <p><%= f.submit "Sign up" %></p>
<% end %>

<%= render :partial => "devise/shared/links" %>
